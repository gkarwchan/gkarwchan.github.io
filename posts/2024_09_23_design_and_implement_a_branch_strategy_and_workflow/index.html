<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  
    
  <title>Design and implement Git branching strategies and workflow | Ghassan&#39;s Page</title>
  <meta name="author" content="Ghassan Karwchan">
  <meta name="description" content="Adopting a standardized development process for Git workflow, and how it integrate with CI/CD is the first step you should establish in your team before writing one line of code. We are going to cover one major well known workflow called Trunk-based workflow that is used by many companies, including Microsoft.
Chose a branching strategy:Every organization should settle on a standard code release process to ensure consistency, and reduce risks. The code release strategy start from adopting Git workflow, and include building CI/CD process and end with building a release strategy.">
  <meta name="keywords" content="blog,developer,personal">

  <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Design and implement Git branching strategies and workflow"/>
<meta name="twitter:description" content="Adopting a standardized development process for Git workflow, and how it integrate with CI/CD is the first step you should establish in your team before writing one line of code. We are going to cover one major well known workflow called Trunk-based workflow that is used by many companies, including Microsoft.
Chose a branching strategy:Every organization should settle on a standard code release process to ensure consistency, and reduce risks. The code release strategy start from adopting Git workflow, and include building CI/CD process and end with building a release strategy."/>

  <meta property="og:title" content="Design and implement Git branching strategies and workflow" />
<meta property="og:description" content="Adopting a standardized development process for Git workflow, and how it integrate with CI/CD is the first step you should establish in your team before writing one line of code. We are going to cover one major well known workflow called Trunk-based workflow that is used by many companies, including Microsoft.
Chose a branching strategy:Every organization should settle on a standard code release process to ensure consistency, and reduce risks. The code release strategy start from adopting Git workflow, and include building CI/CD process and end with building a release strategy." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.ghassan.page/posts/2024_09_23_design_and_implement_a_branch_strategy_and_workflow/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-09-23T10:41:54-06:00" />
<meta property="article:modified_time" content="2024-09-23T10:41:54-06:00" />



  <link rel="stylesheet" href="/css/bootstrap.min.css"  crossorigin="anonymous">
  
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css" rel="stylesheet" type="text/css">

  <link rel="stylesheet" href="/sass/main.css">

  <link rel="stylesheet" href="/zoomjs/zoom.min.css">

  <script src=/js/lazysizes.min.js></script>

  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  

</head>



<body ontouchstart="">
  
  
  <nav class="navbar navbar-default navbar-custom navbar-fixed-top invert">
  <div class="container-fluid">
    
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://www.ghassan.page/">Ghassan&#39;s Page</a>
    </div>
    
    <div id="huxblog_navbar">
      <div class="navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          
          <li><a href="/" title="Home">Home</a></li>
          
          <li><a href="/archive/" title="Archive">Archive</a></li>
          
          <li><a href="/about/" title="About">About</a></li>
          
          <li><a href="https://github.com/gkarwchan/hugoblogsource" title="Github">Github</a></li>
          

          <li class="search-icon">
            <a href="javascript:void(0)">
              <i class="fa fa-search"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
    
  </div>
  
</nav>
<script>
  
  
  
  var $body = document.body;
  var $toggle = document.querySelector(".navbar-toggle");
  var $navbar = document.querySelector("#huxblog_navbar");
  var $collapse = document.querySelector(".navbar-collapse");

  var __HuxNav__ = {
    close: function () {
      $navbar.className = " ";
      
      setTimeout(function () {
        
        if ($navbar.className.indexOf("in") < 0) {
          $collapse.style.height = "0px";
        }
      }, 400);
    },
    open: function () {
      $collapse.style.height = "auto";
      $navbar.className += " in";
    },
  };

  
  $toggle.addEventListener("click", function (e) {
    if ($navbar.className.indexOf("in") > 0) {
      __HuxNav__.close();
    } else {
      __HuxNav__.open();
    }
  });

  

  document.addEventListener("click", function (e) {
    if (e.target == $toggle) return;
    if (e.target.className == "icon-bar") return;
    __HuxNav__.close();
  });
</script>
  
<div class="search-page">
  <div class="search-icon-close-container">
    <span class="search-icon-close">
      <i class="fa fa-chevron-down"></i>
    </span>
  </div>
  <div class="search-main container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <form></form>
        <input type="text" id="search-input" placeholder="$ grep...">
        </form>
        <div id="search-results" class="mini-post-list"></div>
      </div>
    </div>
  </div>
</div>

  
  


<style type="text/css">
  header.intro-header {
    position: relative;
    background-image: url('');
  }
</style>

<header class="intro-header style-text">

  <div class="header-mask"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-heading">
          <div class="tags">
            
            <a class="tag" href="/tags/devops/" title="devops">devops</a>
            
          </div>
          <h1>Design and implement Git branching strategies and workflow</h1>
          <h2 class="subheading"></h2>
          <span class="meta">
            Posted by  Ghassan Karwchan 
            on Mon, Sep 23, 2024
          </span>
        </div>
      </div>
    </div>
  </div>
</header>


  


<article>
  <div class="container">
    <div class="row">

      
      <div class="
              col-lg-8 col-lg-offset-2
              col-md-10 col-md-offset-1
              post-container">
        <p>Adopting a standardized development process for Git workflow, and how it integrate with CI/CD is the first step you should establish in your team before writing one line of code. We are going to cover one major well known workflow called <code>Trunk-based workflow</code> that is used by many companies, including Microsoft.</p>
<h1 id="chose-a-branching-strategy">Chose a branching strategy:<a class="anchorjs-link" href="#chose-a-branching-strategy"></a></h1><p>Every organization should settle on a standard code release process to ensure consistency, and reduce risks. The code release strategy start from adopting Git workflow, and include building CI/CD process and end with building a release strategy.<br>
We are going to cover in this post the Git workflow, and start from the the basic steps of the release flow: branch, push, pull request, and merge.</p>
<p>Chosing the right Git workflow for your team can enhance the team effectiveness and increase its productivity. To chose the correct strategy there are some considerations:</p>
<ul>
<li>Scalability: does this workflow scale when the team expand in size.</li>
<li>Undo mistakes: how easy it is to undo mistakes and errors?</li>
<li>Overhead works: how much overhead work (like fixing merge conflicts, or waiting for CI/CD process), this workflow will add to the team.</li>
</ul>
<h1 id="trunk-based-workflow">Trunk based workflow:<a class="anchorjs-link" href="#trunk-based-workflow"></a></h1><p>The core idea behind the <a href="https://trunkbaseddevelopment.com/" target="_blank">Trunk-based Development Workflow</a> is that all development work takes place directly on the main branch (often called &ldquo;trunk&rdquo; or &ldquo;master&rdquo;). This approach emphasizes continuous integration, with developers frequently committing small, incremental changes to the main branch. Continuous integration and automated testing play a crucial role in maintaining code quality and stability.
It is good to say that Microsoft adopt this workflow for its internal development.<br>
Trunk-based workflow is a slight modification on <a href="https://docs.github.com/en/get-started/using-github/github-flow" target="_blank">GitHub flow</a>.</p>
<h3 id="branching">Branching:<a class="anchorjs-link" href="#branching"></a></h3><p>Every bug or feature will have its own branch. A developer will create a new branch for each feature or bug is working on.</p>
<h3 id="pull-request-with-review-policies">Pull Request with review policies:<a class="anchorjs-link" href="#pull-request-with-review-policies"></a></h3><p>After the developer finish from their development, they will create a <code>pull request</code> to merge it into trunk. No direct check-in into trunk without a PR.<br>
This process of allowing merging code into trunk by only PR will protect the code quality, specially if you add more policies, like the PR must be approved by other developers, and all comments in the PR must be resolved, and the PR triggers CI build, and all quality checks (unit tests and code scanning) must pass before the developer can merge its work into the trunk.</p>
<h3 id="creating-releases-and-release-branches">Creating Releases and Release branches:<a class="anchorjs-link" href="#creating-releases-and-release-branches"></a></h3><p>When time comes to creating a release and ready for production, we create a <code>Release branch</code>.<br>
A release branch will be created and will be deployed to production.<br>
In case a bug was found in prodution, then the bug will be fixed into the trunk (following the same process of create a bug branch and then create a PR), and after it is merged into trunk, we <code>cherry-pick</code> into the release branch.<br>
<figure>
  <a class="paragraph-image">
    <img data-src="/img/branch-strategy.png" data-action="zoom" alt="Branch Release"  class="lazyload">
  </a>
  
</figure></p>
<h3 id="branche-policies-and-permissions">Branche policies and permissions:<a class="anchorjs-link" href="#branche-policies-and-permissions"></a></h3><p>The above workflow will allow to add policies to increse the protection, security and quality of the code.</p>
<h5 id="branch-hierarchy-and-permissions">Branch hierarchy and permissions<a class="anchorjs-link" href="#branch-hierarchy-and-permissions"></a></h5><p>We can have a standard hierarchy of branches, and give them permissions, like for example all user created branches will be under folders like <code>/users</code> or <code>/features</code>. Release branches will be under <code>/Releases</code>, and only administrators can create those branches.</p>
<h5 id="branch-policies-and-forcing-pr">Branch policies and forcing PR:<a class="anchorjs-link" href="#branch-policies-and-forcing-pr"></a></h5><p>We can add branch policies to enhance the quality of the code by forcing PR to add code to the trunk, and on that PR we can add protection rules, for example:</p>
<ul>
<li>add mandatory code review: So every PR must be approved by others to allow to merge.</li>
<li>add check successful build on PR to allow it to be merged: so we can run CI process and check the quality of that build (unit test or code scanning tools).</li>
<li>add CD status on release branches: so create a release branch triggers a CD process to deploy to pre-environment, and can trigger a process of checking performance and stability of the release.</li>
</ul>


        <hr style="visibility: hidden;" />
        <ul class="pager">
          
          <li class="previous">
            <a href="/posts/2024_09_22_make_sense_of_many_git_credential_helper/" data-toggle="tooltip" data-placement="top" title="Enhancing Your Git Workflow with Git Credential Manager Core">
              Previous<br>
              <span>Enhancing Your Git Workflow with Git Credential Manager Core</span>
            </a>
          </li>
          
          
        </ul>
        <hr style="visibility: hidden;" />

        
        



<div class="giscus" id="comments"></div>
<script src="https://giscus.app/client.js" 
  data-repo="gkarwchan/gkarwchan.github.io" 
  data-repo-id="R_kgDOK0QUTA"
  data-category="General"
  data-category-id="DIC_kwDOK0QUTM4Ccf8h"
  data-mapping="pathname"
  data-strict="0" 
  data-reactions-enabled="1" 
  data-emit-metadata="0" 
  data-input-position="top"
  data-theme="light_tritanopia"
  data-lang="en"
  crossorigin="anonymous"
  async>
  </script>




      </div>

      
      
      
      <div class="
              col-lg-2 col-lg-offset-0
              visible-lg-block
              sidebar-container
              catalog-container">
        <div class="side-catalog">
          <hr class="hidden-sm hidden-xs">
          <h5>
            <a class="catalog-toggle" href="#">CATALOG</a>
          </h5>
          <ul class="catalog-body"></ul>
        </div>
      </div>
      
      
      <div class="
              col-lg-8 col-lg-offset-2
              col-md-10 col-md-offset-1
              sidebar-container">

        
        
        <section>
  
  
  <hr class="hidden-sm hidden-xs">
  
  <h5>FEATURED TAGS</h5>
  <div class="tags">
    
    <a href="/tags/algorithm/">algorithm</a>
    
    <a href="/tags/asp.net/">asp.net</a>
    
    <a href="/tags/azure/">azure</a>
    
    <a href="/tags/container/">container</a>
    
    <a href="/tags/dev-tools/">dev tools</a>
    
    <a href="/tags/devops/">devops</a>
    
    <a href="/tags/javascript/">javascript</a>
    
    <a href="/tags/networking/">networking</a>
    
    <a href="/tags/performance/">performance</a>
    
    <a href="/tags/python/">python</a>
    
    <a href="/tags/security/">security</a>
    
  </div>
</section>

        
        

      </div>
    </div>
  </div>
</article>



  
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        
        <ul class="list-inline text-center">

<li>
  <a href="https://github.com/gkarwchan" target="_blank">
    <span class="fa-stack fa-lg">
      <i class="fa fa-circle fa-stack-2x"></i>
      <i class="fab fa-github fa-stack-1x fa-inverse"></i>
    </span>
  </a>
</li>

<li>
  <a href="https://linkedin.com/in/ghassankarwchan" target="_blank">
    <span class="fa-stack fa-lg">
      <i class="fa fa-circle fa-stack-2x"></i>
      <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
    </span>
  </a>
</li>


<li>
  <a href="/index.xml" target="_blank">
    <span class="fa-stack fa-lg">
      <i class="fa fa-circle fa-stack-2x"></i>
      <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
    </span>
  </a>
</li></ul>

        <p class="copyright text-muted">
          Copyright &copy; Ghassan&#39;s Page 2024  
          <br>
          Powered by <a href="https://gohugo.io">Hugo</a>
        </p>
      </div>
    </div>
  </div>
</footer>

<script src=/js/jquery.min.js></script>
<script src=/js/bootstrap.min.js crossorigin="anonymous"></script>



<script src="/js/hux-blog.min.73a6a8d8df45293e042d15867416f603045bbeb98406731e5022d6c60388cd9d.js"></script>


<script src=/js/simple-jekyll-search.min.js></script>


<script src="/js/search.min.53bce5da475b4d362500e5ce5dddfa22e20e1b9018777411d2020b4b839c9310.js"></script>






<script type="text/javascript">
  function generateCatalog(selector) {
    _containerSelector = 'div.post-container'
    
    var P = $(_containerSelector), a, n, t, l, i, c;
    a = P.find('h1,h2,h3,h4');
    
    $(selector).html('')
    
    a.each(function () {
      n = $(this).prop('tagName').toLowerCase();
      i = "#" + $(this).prop('id');
      t = $(this).text();
      c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
      l = $('<li class="' + n + '_nav"></li>').append(c);
      $(selector).append(l);
    });
    return true;
  }

  generateCatalog(".catalog-body");

  
  $(".catalog-toggle").click((function (e) {
    e.preventDefault();
    $('.side-catalog').toggleClass("fold")
  }))
</script>


<script type="text/javascript" src='/js/jquery.nav.min.ade6bde8f9fcc6a4b40852cb892e9f5912340ab8fe1305149d917fdd16fffd8d.js'></script>
<script>
   $(document).ready( function () {
    $('.catalog-body').onePageNav({
      currentClass: "active",
      changeHash: !1,
      easing: "swing",
      filter: "",
      scrollSpeed: 700,
      scrollOffset: 0,
      scrollThreshold: .2,
      begin: null,
      end: null,
      scrollChange: null,
      padding: 80
    });
  });
</script>









<script src="/zoomjs/zoom.min.js"></script>

</body>

</html>